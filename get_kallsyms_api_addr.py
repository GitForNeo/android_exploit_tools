#!/usr/bin/python
# -*- coding: UTF-8 -*-

kallsym_file_path = "D:/work/kernel/redmi-note3-7.2.3.0/kallsyms"
api_name_list = [
    "tty_ioctl",
    "stat_seq_show",
    "mtk_wcn_cmb_stub_query_ctrl",
    "clk_composite_set_parent",
    "el1_irp",
    "do_vfs_ioctl",
    "usb_hcd_irq",
    "clk_composite_set_parent"
]

def get_file_lines(file_path):
    content = ""
    with open(kallsym_file_path, "r+") as f:
        content = f.readlines()
        f.close()
    return content


def get_addr(c_lines):
    for c_line in c_lines:
        c_line = c_line.strip("\n")
        api_name = c_line.split(" ")[-1].strip()
        if api_name in api_name_list:
            print c_line


def main():

    get_addr(get_file_lines(kallsym_file_path))

if __name__ == '__main__':
    main()
